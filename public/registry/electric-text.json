{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "electric-text",
  "type": "registry:component",
  "title": "Electric Text",
  "description": "Animated electric text with glowing, distorted outline for dynamic neon effects.",
  "author": "Ahdeetai <https://aditya.is-cool.dev>",
  "dependencies": ["clsx", "tailwind-merge"],
  "files": [
    {
      "type": "registry:component",
      "path": "components/ui/electric-text.tsx",
      "target": "components/ui/electric-text.tsx",
      "content": "import React, { useEffect, useId, useLayoutEffect, useRef, useState } from 'react';\nimport { cn } from \"@/lib/utils\";\n\ntype ElectricTextProps = {\n  children: React.ReactNode;\n  color?: string;\n  speed?: number;\n  chaos?: number;\n  strokeWidth?: number;\n  className?: string;\n  glowIntensity?: 'low' | 'medium' | 'high';\n  fillColor?: string;\n  showFill?: boolean;\n};\n\nfunction hexToRgba(hex: string, alpha = 1): string {\n  if (!hex) return `rgba(0,0,0,${alpha})`;\n  let h = hex.replace('#', '');\n  if (h.length === 3) {\n    h = h.split('').map(c => c + c).join('');\n  }\n  const int = parseInt(h, 16);\n  const r = (int >> 16) & 255;\n  const g = (int >> 8) & 255;\n  const b = int & 255;\n  return `rgba(${r}, ${g}, ${b}, ${alpha})`;\n}\n\nconst ElectricText: React.FC<ElectricTextProps> = ({\n  children,\n  color = '#5227FF',\n  speed = 1,\n  chaos = 1,\n  strokeWidth = 2,\n  className = '',\n  glowIntensity = 'medium',\n  fillColor = 'rgba(0,0,0,0.8)',\n  showFill = true\n}) => {\n  const rawId = useId().replace(/[:]/g, '');\n  const filterId = `text-turbulent-${rawId}`;\n  const svgRef = useRef<SVGSVGElement | null>(null);\n  const measureRef = useRef<HTMLDivElement | null>(null);\n  const [svgFontSize, setSvgFontSize] = useState(120);\n\n  const updateAnim = () => {\n    const svg = svgRef.current;\n    if (!svg) return;\n\n    const dyAnims = Array.from(svg.querySelectorAll<SVGAnimateElement>('feOffset > animate[attributeName=\"dy\"]'));\n    const dxAnims = Array.from(svg.querySelectorAll<SVGAnimateElement>('feOffset > animate[attributeName=\"dx\"]'));\n\n    const baseDur = 6;\n    const dur = Math.max(0.001, baseDur / (speed || 1));\n    [...dyAnims, ...dxAnims].forEach(a => a.setAttribute('dur', `${dur}s`));\n\n    const disp = svg.querySelector('feDisplacementMap');\n    if (disp) disp.setAttribute('scale', String(30 * (chaos || 1)));\n\n    requestAnimationFrame(() => {\n      [...dyAnims, ...dxAnims].forEach((a: any) => {\n        if (typeof a.beginElement === 'function') {\n          try {\n            a.beginElement();\n          } catch {}\n        }\n      });\n    });\n  };\n\n  useEffect(() => {\n    updateAnim();\n  }, [speed, chaos]);\n\n  useLayoutEffect(() => {\n    if (measureRef.current) {\n      const computedStyle = window.getComputedStyle(measureRef.current);\n      const fontSize = parseFloat(computedStyle.fontSize);\n      const scaledSize = Math.max(60, Math.min(200, fontSize * 3));\n      setSvgFontSize(scaledSize);\n    }\n    setTimeout(updateAnim, 10);\n  }, [children, strokeWidth, className]);\n\n  const glowSettings = {\n    low: { blur1: 10, blur2: 2, blur3: 1, opacity1: 0.2, opacity2: 0.5, opacity3: 0.6 },\n    medium: { blur1: 20, blur2: 4, blur3: 2, opacity1: 0.3, opacity2: 0.7, opacity3: 0.8 },\n    high: { blur1: 32, blur2: 8, blur3: 4, opacity1: 0.5, opacity2: 0.9, opacity3: 1 }\n  }[glowIntensity];\n\n  return (\n    <div className={cn(\"relative inline-block\", className)}>\n      <div ref={measureRef} className=\"absolute opacity-0 pointer-events-none whitespace-nowrap\">\n        {children}\n      </div>\n      <svg\n        ref={svgRef}\n        viewBox=\"0 0 1000 300\"\n        className=\"w-full h-full block\"\n        style={{ overflow: 'visible' }}\n        preserveAspectRatio=\"xMidYMid meet\"\n      >\n        <defs>\n          <filter id={filterId} colorInterpolationFilters=\"sRGB\" x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\">\n            <feTurbulence type=\"turbulence\" baseFrequency=\"0.02\" numOctaves=\"10\" result=\"noise1\" seed=\"1\" />\n            <feOffset in=\"noise1\" dx=\"0\" dy=\"0\" result=\"offsetNoise1\">\n              <animate attributeName=\"dy\" values=\"700; 0\" dur=\"6s\" repeatCount=\"indefinite\" calcMode=\"linear\" />\n            </feOffset>\n\n            <feTurbulence type=\"turbulence\" baseFrequency=\"0.02\" numOctaves=\"10\" result=\"noise2\" seed=\"1\" />\n            <feOffset in=\"noise2\" dx=\"0\" dy=\"0\" result=\"offsetNoise2\">\n              <animate attributeName=\"dy\" values=\"0; -700\" dur=\"6s\" repeatCount=\"indefinite\" calcMode=\"linear\" />\n            </feOffset>\n\n            <feTurbulence type=\"turbulence\" baseFrequency=\"0.02\" numOctaves=\"10\" result=\"noise3\" seed=\"2\" />\n            <feOffset in=\"noise3\" dx=\"0\" dy=\"0\" result=\"offsetNoise3\">\n              <animate attributeName=\"dx\" values=\"490; 0\" dur=\"6s\" repeatCount=\"indefinite\" calcMode=\"linear\" />\n            </feOffset>\n\n            <feTurbulence type=\"turbulence\" baseFrequency=\"0.02\" numOctaves=\"10\" result=\"noise4\" seed=\"2\" />\n            <feOffset in=\"noise4\" dx=\"0\" dy=\"0\" result=\"offsetNoise4\">\n              <animate attributeName=\"dx\" values=\"0; -490\" dur=\"6s\" repeatCount=\"indefinite\" calcMode=\"linear\" />\n            </feOffset>\n\n            <feComposite in=\"offsetNoise1\" in2=\"offsetNoise2\" result=\"part1\" />\n            <feComposite in=\"offsetNoise3\" in2=\"offsetNoise4\" result=\"part2\" />\n            <feBlend in=\"part1\" in2=\"part2\" mode=\"color-dodge\" result=\"combinedNoise\" />\n            <feDisplacementMap\n              in=\"SourceGraphic\"\n              in2=\"combinedNoise\"\n              scale=\"30\"\n              xChannelSelector=\"R\"\n              yChannelSelector=\"B\"\n            />\n          </filter>\n        </defs>\n\n        {showFill && (\n          <>\n            <text\n              x=\"500\"\n              y=\"150\"\n              dominantBaseline=\"central\"\n              textAnchor=\"middle\"\n              stroke={hexToRgba(color, glowSettings.opacity1)}\n              strokeWidth={strokeWidth * 3}\n              fill=\"none\"\n              fontSize={svgFontSize}\n              fontWeight=\"bold\"\n              style={{ filter: `blur(${glowSettings.blur1}px)` }}\n            >\n              {children}\n            </text>\n\n            <text\n              x=\"500\"\n              y=\"150\"\n              dominantBaseline=\"central\"\n              textAnchor=\"middle\"\n              stroke={hexToRgba(color, 0.6)}\n              strokeWidth={strokeWidth * 1.5}\n              fill=\"none\"\n              fontSize={svgFontSize}\n              fontWeight=\"bold\"\n              style={{ filter: `blur(${glowSettings.blur2}px)`, opacity: glowSettings.opacity2 }}\n            >\n              {children}\n            </text>\n          </>\n        )}\n\n        <text\n          x=\"500\"\n          y=\"150\"\n          dominantBaseline=\"central\"\n          textAnchor=\"middle\"\n          stroke={color}\n          strokeWidth={strokeWidth}\n          fill=\"none\"\n          fontSize={svgFontSize}\n          fontWeight=\"bold\"\n          filter={`url(#${filterId})`}\n        >\n          {children}\n        </text>\n\n        {showFill && (\n          <>\n            <text\n              x=\"500\"\n              y=\"150\"\n              dominantBaseline=\"central\"\n              textAnchor=\"middle\"\n              stroke={color}\n              strokeWidth={strokeWidth * 0.5}\n              fill=\"none\"\n              fontSize={svgFontSize}\n              fontWeight=\"bold\"\n              style={{ filter: `blur(${glowSettings.blur3}px)`, opacity: glowSettings.opacity3 }}\n            >\n              {children}\n            </text>\n\n            <text\n              x=\"500\"\n              y=\"150\"\n              dominantBaseline=\"central\"\n              textAnchor=\"middle\"\n              fill={fillColor}\n              fontSize={svgFontSize}\n              fontWeight=\"bold\"\n            >\n              {children}\n            </text>\n          </>\n        )}\n      </svg>\n    </div>\n  );\n};\n\nexport { ElectricText };"
    },
    {
      "type": "registry:lib",
      "path": "lib/utils.ts",
      "target": "lib/utils.ts",
      "content": "import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}"
    }
  ]
}
